<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Connected Home over IP: chip::Ble::BleLayer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Connected Home over IP
   &#160;<span id="projectnumber">108fd91</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classchip_1_1_ble_1_1_ble_layer.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classchip_1_1_ble_1_1_ble_layer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">chip::Ble::BleLayer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class provides an interface for a single thread to drive data either up the stack via the <a class="el" href="classchip_1_1_ble_1_1_ble_layer.html" title="This class provides an interface for a single thread to drive data either up the stack via the BleLay...">BleLayer</a> platform interface functions, or down the stack via a chipConnection object associated with a <a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a>.  
 <a href="classchip_1_1_ble_1_1_ble_layer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_ble_layer_8h_source.html">ble/BleLayer.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:abfc47098491ca0105edda89131e6e0f3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#abfc47098491ca0105edda89131e6e0f3a5a753d82be70d79ed2c343a6e9abef4e">kState_NotInitialized</a> = 0, 
<br />
&#160;&#160;<a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#abfc47098491ca0105edda89131e6e0f3a908dadf2acf5eb1b4348dda865191d2c">kState_Initialized</a> = 1
<br />
 }</td></tr>
<tr class="separator:abfc47098491ca0105edda89131e6e0f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f15f30d7c20af39930cbca07e47e74f"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a3f15f30d7c20af39930cbca07e47e74f">BleConnectionReceivedFunct</a>) (<a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a> *newEndPoint)</td></tr>
<tr class="separator:a3f15f30d7c20af39930cbca07e47e74f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1c7f84854a52eaa659631578e68c3fda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a1c7f84854a52eaa659631578e68c3fda">BleLayer</a> ()</td></tr>
<tr class="separator:a1c7f84854a52eaa659631578e68c3fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc55855eca89d7be7a4ce14a7654c7c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#acc55855eca89d7be7a4ce14a7654c7c6">Init</a> (<a class="el" href="classchip_1_1_ble_1_1_ble_platform_delegate.html">BlePlatformDelegate</a> *platformDelegate, <a class="el" href="classchip_1_1_ble_1_1_ble_application_delegate.html">BleApplicationDelegate</a> *appDelegate, <a class="el" href="classchip_1_1_system_1_1_layer.html">chip::System::Layer</a> *systemLayer)</td></tr>
<tr class="separator:acc55855eca89d7be7a4ce14a7654c7c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70489993ebb946ebf4d4522a3dfd08d7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a70489993ebb946ebf4d4522a3dfd08d7">Init</a> (<a class="el" href="classchip_1_1_ble_1_1_ble_platform_delegate.html">BlePlatformDelegate</a> *platformDelegate, <a class="el" href="classchip_1_1_ble_1_1_ble_connection_delegate.html">BleConnectionDelegate</a> *connDelegate, <a class="el" href="classchip_1_1_ble_1_1_ble_application_delegate.html">BleApplicationDelegate</a> *appDelegate, <a class="el" href="classchip_1_1_system_1_1_layer.html">chip::System::Layer</a> *systemLayer)</td></tr>
<tr class="separator:a70489993ebb946ebf4d4522a3dfd08d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada46f22b0d10b20fde367cdce163aae9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#ada46f22b0d10b20fde367cdce163aae9">Shutdown</a> ()</td></tr>
<tr class="separator:ada46f22b0d10b20fde367cdce163aae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32672e4305fc15cf606cc6f52dd91396"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a32672e4305fc15cf606cc6f52dd91396">CancelBleIncompleteConnection</a> ()</td></tr>
<tr class="separator:a32672e4305fc15cf606cc6f52dd91396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31723f1798b11ec962ad498c41cf4b68"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a31723f1798b11ec962ad498c41cf4b68">NewBleConnectionByDiscriminator</a> (uint16_t connDiscriminator, void *appState=<a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#a231299e413293aab78d01e3d600f93d1">nullptr</a>, <a class="el" href="classchip_1_1_ble_1_1_ble_connection_delegate.html#ab6fdb641bcfcbbf32b49e7dc6a77e8ec">BleConnectionDelegate::OnConnectionCompleteFunct</a> onSucess=OnConnectionComplete, <a class="el" href="classchip_1_1_ble_1_1_ble_connection_delegate.html#ae7fb8ff79f982ad3221cb2629d93c0ae">BleConnectionDelegate::OnConnectionErrorFunct</a> onError=OnConnectionError)</td></tr>
<tr class="separator:a31723f1798b11ec962ad498c41cf4b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e9d09b2c8068f2e8e36ea4f8fc6cd04"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a4e9d09b2c8068f2e8e36ea4f8fc6cd04">NewBleConnectionByObject</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>)</td></tr>
<tr class="separator:a4e9d09b2c8068f2e8e36ea4f8fc6cd04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ba84fdbbc00d22209fbeea36dd1a5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a33ba84fdbbc00d22209fbeea36dd1a5b">NewBleEndPoint</a> (<a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a> **retEndPoint, <a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, <a class="el" href="namespacechip_1_1_ble.html#af939616df203558805d6aa06641290b7">BleRole</a> role, bool autoClose)</td></tr>
<tr class="separator:a33ba84fdbbc00d22209fbeea36dd1a5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9717f4f502dc5475839cc14920e277c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a9717f4f502dc5475839cc14920e277c6">CloseAllBleConnections</a> ()</td></tr>
<tr class="separator:a9717f4f502dc5475839cc14920e277c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8db328727c6a7715ba8aaef4bdfb444"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#ab8db328727c6a7715ba8aaef4bdfb444">CloseBleConnection</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>)</td></tr>
<tr class="memdesc:ab8db328727c6a7715ba8aaef4bdfb444"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespacechip_1_1_platform.html">Platform</a> interface functions:  <a href="classchip_1_1_ble_1_1_ble_layer.html#ab8db328727c6a7715ba8aaef4bdfb444">More...</a><br /></td></tr>
<tr class="separator:ab8db328727c6a7715ba8aaef4bdfb444"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8b0a98cf1b3e053a621e88e1a44ff0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#abe8b0a98cf1b3e053a621e88e1a44ff0">HandleSubscribeReceived</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *svcId, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *charId)</td></tr>
<tr class="separator:abe8b0a98cf1b3e053a621e88e1a44ff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d81e4d015fcbd56d8308397b047eba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#ad9d81e4d015fcbd56d8308397b047eba">HandleSubscribeComplete</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *svcId, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *charId)</td></tr>
<tr class="memdesc:ad9d81e4d015fcbd56d8308397b047eba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call when a GATT subscribe request succeeds.  <a href="classchip_1_1_ble_1_1_ble_layer.html#ad9d81e4d015fcbd56d8308397b047eba">More...</a><br /></td></tr>
<tr class="separator:ad9d81e4d015fcbd56d8308397b047eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94b78acc6bc39256567ff0548360f8ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a94b78acc6bc39256567ff0548360f8ac">HandleUnsubscribeReceived</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *svcId, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *charId)</td></tr>
<tr class="separator:a94b78acc6bc39256567ff0548360f8ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4f4cf7770f7ef152a2e887d6a74e9b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#acf4f4cf7770f7ef152a2e887d6a74e9b">HandleUnsubscribeComplete</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *svcId, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *charId)</td></tr>
<tr class="memdesc:acf4f4cf7770f7ef152a2e887d6a74e9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call when a GATT unsubscribe request succeeds.  <a href="classchip_1_1_ble_1_1_ble_layer.html#acf4f4cf7770f7ef152a2e887d6a74e9b">More...</a><br /></td></tr>
<tr class="separator:acf4f4cf7770f7ef152a2e887d6a74e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0810c8abc53c2ecf383041ffc033786"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#ad0810c8abc53c2ecf383041ffc033786">HandleWriteReceived</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *svcId, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *charId, <a class="el" href="classchip_1_1_system_1_1_packet_buffer_handle.html">System::PacketBufferHandle</a> &amp;&amp;pBuf)</td></tr>
<tr class="memdesc:ad0810c8abc53c2ecf383041ffc033786"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call when a GATT write request is received.  <a href="classchip_1_1_ble_1_1_ble_layer.html#ad0810c8abc53c2ecf383041ffc033786">More...</a><br /></td></tr>
<tr class="separator:ad0810c8abc53c2ecf383041ffc033786"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad058845b40297613b580b03539d54060"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#ad058845b40297613b580b03539d54060">HandleIndicationReceived</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *svcId, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *charId, <a class="el" href="classchip_1_1_system_1_1_packet_buffer_handle.html">System::PacketBufferHandle</a> &amp;&amp;pBuf)</td></tr>
<tr class="memdesc:ad058845b40297613b580b03539d54060"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call when a GATT indication is received.  <a href="classchip_1_1_ble_1_1_ble_layer.html#ad058845b40297613b580b03539d54060">More...</a><br /></td></tr>
<tr class="separator:ad058845b40297613b580b03539d54060"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf9304d485185c6439ac92328627bfe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#aecf9304d485185c6439ac92328627bfe">HandleWriteConfirmation</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *svcId, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *charId)</td></tr>
<tr class="memdesc:aecf9304d485185c6439ac92328627bfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call when an outstanding GATT write request receives a positive receipt confirmation.  <a href="classchip_1_1_ble_1_1_ble_layer.html#aecf9304d485185c6439ac92328627bfe">More...</a><br /></td></tr>
<tr class="separator:aecf9304d485185c6439ac92328627bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d7dbad55270d78c52c8dc4a22e3e75d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a7d7dbad55270d78c52c8dc4a22e3e75d">HandleIndicationConfirmation</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *svcId, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *charId)</td></tr>
<tr class="memdesc:a7d7dbad55270d78c52c8dc4a22e3e75d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call when an oustanding GATT indication receives a positive receipt confirmation.  <a href="classchip_1_1_ble_1_1_ble_layer.html#a7d7dbad55270d78c52c8dc4a22e3e75d">More...</a><br /></td></tr>
<tr class="separator:a7d7dbad55270d78c52c8dc4a22e3e75d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd1b1ca5efc273150981cf0e3fc5de7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#adfd1b1ca5efc273150981cf0e3fc5de7">HandleReadReceived</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, <a class="el" href="_ble_config_8h.html#a3ab314309cec094e3870be337eb9506f">BLE_READ_REQUEST_CONTEXT</a> requestContext, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *svcId, const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *charId)</td></tr>
<tr class="memdesc:adfd1b1ca5efc273150981cf0e3fc5de7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call when a GATT read request is received.  <a href="classchip_1_1_ble_1_1_ble_layer.html#adfd1b1ca5efc273150981cf0e3fc5de7">More...</a><br /></td></tr>
<tr class="separator:adfd1b1ca5efc273150981cf0e3fc5de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaf01be4b125cb9597bd49be28dc0aa9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#aaaf01be4b125cb9597bd49be28dc0aa9">HandleConnectionError</a> (<a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a> <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#aa0e22bcdf7a7ec7a9dd6c91c06f4b156">connObj</a>, <a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a> <a class="el" href="_setup_payload_parser-_j_n_i_8cpp.html#a52482fdd3721e7db69dc740aefee8ad4">err</a>)</td></tr>
<tr class="separator:aaaf01be4b125cb9597bd49be28dc0aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:adbf061f08434344e9667781576c35016"><td class="memItemLeft" align="right" valign="top">enum chip::Ble::BleLayer:: { ... } &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#adbf061f08434344e9667781576c35016">mState</a></td></tr>
<tr class="memdesc:adbf061f08434344e9667781576c35016"><td class="mdescLeft">&#160;</td><td class="mdescRight">[READ-ONLY] Current state  <a href="classchip_1_1_ble_1_1_ble_layer.html#adbf061f08434344e9667781576c35016">More...</a><br /></td></tr>
<tr class="separator:adbf061f08434344e9667781576c35016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad631a55e9d141fe417793665cfa69cf9"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#ad631a55e9d141fe417793665cfa69cf9">mAppState</a> = <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#a231299e413293aab78d01e3d600f93d1">nullptr</a></td></tr>
<tr class="separator:ad631a55e9d141fe417793665cfa69cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50bfa92238cc6dc0578f109a55f78101"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classchip_1_1_ble_1_1_ble_layer_delegate.html">BleLayerDelegate</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a50bfa92238cc6dc0578f109a55f78101">mBleTransport</a> = <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#a231299e413293aab78d01e3d600f93d1">nullptr</a></td></tr>
<tr class="separator:a50bfa92238cc6dc0578f109a55f78101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0603dfed49c6233e4fc2763083a0154"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a3f15f30d7c20af39930cbca07e47e74f">BleConnectionReceivedFunct</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#ac0603dfed49c6233e4fc2763083a0154">OnChipBleConnectReceived</a></td></tr>
<tr class="separator:ac0603dfed49c6233e4fc2763083a0154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e86e34d71ae2798220c9081876c18a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a7e86e34d71ae2798220c9081876c18a8">mBleEndPoint</a></td></tr>
<tr class="separator:a7e86e34d71ae2798220c9081876c18a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:addbebbb912665b78e089ca4c175489c9"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#addbebbb912665b78e089ca4c175489c9">BLEEndPoint</a></td></tr>
<tr class="separator:addbebbb912665b78e089ca4c175489c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides an interface for a single thread to drive data either up the stack via the <a class="el" href="classchip_1_1_ble_1_1_ble_layer.html" title="This class provides an interface for a single thread to drive data either up the stack via the BleLay...">BleLayer</a> platform interface functions, or down the stack via a chipConnection object associated with a <a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a>. </p>
<p>There are two ways to associate a chipConnection (defined by the chipMessageLayer) with a BLE connection:</p>
<p>First, the application can passively receive an incoming BLE connection and hand the platform-specific BLE_CONNECTION_OBJECT that this receipt generates to <a class="el" href="classchip_1_1_ble_1_1_ble_layer.html" title="This class provides an interface for a single thread to drive data either up the stack via the BleLay...">BleLayer</a> via the corresponding platform interface function. This causes <a class="el" href="classchip_1_1_ble_1_1_ble_layer.html" title="This class provides an interface for a single thread to drive data either up the stack via the BleLay...">BleLayer</a> to wrap the BLE_CONNECTION_OBJECT in a <a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a>, and notify chipMessageLayer that a new BLE conneciotn has been received. The message layer then wraps the new <a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a> object in a chipConnection, and hands this object to the application via the message layer's OnConnectionReceived callback.</p>
<p>Second, the application can actively form an outgoing BLE connection, e.g., by connecting to a BLE peripheral. It then creates a new chipConnection via the chipMessageLayer, assigns an authentication type to this connection, and binds it to the BLE_CONNECTION_OBJECT for the new BLE connection via chipConnection::ConnectBle. This function then establishes the secure session type specified by the chipConnection's authentication type member variable. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a3f15f30d7c20af39930cbca07e47e74f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f15f30d7c20af39930cbca07e47e74f">&#9670;&nbsp;</a></span>BleConnectionReceivedFunct</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* chip::Ble::BleLayer::BleConnectionReceivedFunct) (<a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a> *newEndPoint)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="abfc47098491ca0105edda89131e6e0f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfc47098491ca0105edda89131e6e0f3">&#9670;&nbsp;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="abfc47098491ca0105edda89131e6e0f3a5a753d82be70d79ed2c343a6e9abef4e"></a>kState_NotInitialized&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="abfc47098491ca0105edda89131e6e0f3a908dadf2acf5eb1b4348dda865191d2c"></a>kState_Initialized&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1c7f84854a52eaa659631578e68c3fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c7f84854a52eaa659631578e68c3fda">&#9670;&nbsp;</a></span>BleLayer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">chip::Ble::BleLayer::BleLayer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a32672e4305fc15cf606cc6f52dd91396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32672e4305fc15cf606cc6f52dd91396">&#9670;&nbsp;</a></span>CancelBleIncompleteConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a> chip::Ble::BleLayer::CancelBleIncompleteConnection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9717f4f502dc5475839cc14920e277c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9717f4f502dc5475839cc14920e277c6">&#9670;&nbsp;</a></span>CloseAllBleConnections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a> chip::Ble::BleLayer::CloseAllBleConnections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab8db328727c6a7715ba8aaef4bdfb444"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8db328727c6a7715ba8aaef4bdfb444">&#9670;&nbsp;</a></span>CloseBleConnection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a> chip::Ble::BleLayer::CloseBleConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="namespacechip_1_1_platform.html">Platform</a> interface functions: </p>
<p>Calling conventions: CHIP takes ownership of PacketBuffers received through these functions, and will free them or pass ownership up the stack.</p>
<p>Beyond each call, no guarantees are provided as to the lifetime of UUID arguments.</p>
<p>A 'true' return value means the CHIP stack successfully handled the corresponding message or state indication. 'false' means the CHIP stack either failed or chose not to handle this. This contract allows the platform to pass BLE events to CHIP without needing to know which characteristics CHIP cares about.</p>
<p><a class="el" href="namespacechip_1_1_platform.html">Platform</a> must call this function when a GATT subscription has been established to any CHIP service charateristic.</p>
<p>If this function returns true, CHIP has accepted the BLE connection and wrapped it in a chipConnection object. If CHIP accepts a BLE connection, the platform MUST notify CHIP if the subscription is canceled or the underlying BLE connection is closed, or the associated chipConnection will never be closed or freed. </p>

</div>
</div>
<a id="aaaf01be4b125cb9597bd49be28dc0aa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaf01be4b125cb9597bd49be28dc0aa9">&#9670;&nbsp;</a></span>HandleConnectionError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chip::Ble::BleLayer::HandleConnectionError </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a>&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7d7dbad55270d78c52c8dc4a22e3e75d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d7dbad55270d78c52c8dc4a22e3e75d">&#9670;&nbsp;</a></span>HandleIndicationConfirmation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chip::Ble::BleLayer::HandleIndicationConfirmation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>svcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>charId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call when an oustanding GATT indication receives a positive receipt confirmation. </p>

</div>
</div>
<a id="ad058845b40297613b580b03539d54060"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad058845b40297613b580b03539d54060">&#9670;&nbsp;</a></span>HandleIndicationReceived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chip::Ble::BleLayer::HandleIndicationReceived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>svcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>charId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchip_1_1_system_1_1_packet_buffer_handle.html">System::PacketBufferHandle</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>pBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call when a GATT indication is received. </p>

</div>
</div>
<a id="adfd1b1ca5efc273150981cf0e3fc5de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd1b1ca5efc273150981cf0e3fc5de7">&#9670;&nbsp;</a></span>HandleReadReceived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chip::Ble::BleLayer::HandleReadReceived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_ble_config_8h.html#a3ab314309cec094e3870be337eb9506f">BLE_READ_REQUEST_CONTEXT</a>&#160;</td>
          <td class="paramname"><em>requestContext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>svcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>charId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call when a GATT read request is received. </p>
<p><a class="el" href="namespacechip_1_1_platform.html">Platform</a> must call this function when any previous operation undertaken by the <a class="el" href="classchip_1_1_ble_1_1_ble_layer.html" title="This class provides an interface for a single thread to drive data either up the stack via the BleLay...">BleLayer</a> via BleAdapter fails, such as a characteristic write request or subscribe attempt, or when a BLE connection is closed.</p>
<p>In most cases, this will prompt CHIP to close the associated chipConnection and notify that platform that it has abandoned the underlying BLE connection.</p>
<p>NOTE: if the application explicitly closes a BLE connection with an associated chipConnection such that the BLE connection close will not generate an upcall to CHIP, HandleConnectionError must be called with err = BLE_ERROR_APP_CLOSED_CONNECTION to prevent the leak of this chipConnection and its end point object. </p>

</div>
</div>
<a id="ad9d81e4d015fcbd56d8308397b047eba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d81e4d015fcbd56d8308397b047eba">&#9670;&nbsp;</a></span>HandleSubscribeComplete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chip::Ble::BleLayer::HandleSubscribeComplete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>svcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>charId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call when a GATT subscribe request succeeds. </p>
<p><a class="el" href="namespacechip_1_1_platform.html">Platform</a> must call this function when a GATT unsubscribe is requested on any CHIP service charateristic, that is, when an existing GATT subscription on a CHIP service characteristic is canceled. </p>

</div>
</div>
<a id="abe8b0a98cf1b3e053a621e88e1a44ff0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe8b0a98cf1b3e053a621e88e1a44ff0">&#9670;&nbsp;</a></span>HandleSubscribeReceived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chip::Ble::BleLayer::HandleSubscribeReceived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>svcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>charId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acf4f4cf7770f7ef152a2e887d6a74e9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf4f4cf7770f7ef152a2e887d6a74e9b">&#9670;&nbsp;</a></span>HandleUnsubscribeComplete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chip::Ble::BleLayer::HandleUnsubscribeComplete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>svcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>charId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call when a GATT unsubscribe request succeeds. </p>

</div>
</div>
<a id="a94b78acc6bc39256567ff0548360f8ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94b78acc6bc39256567ff0548360f8ac">&#9670;&nbsp;</a></span>HandleUnsubscribeReceived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chip::Ble::BleLayer::HandleUnsubscribeReceived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>svcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>charId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aecf9304d485185c6439ac92328627bfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf9304d485185c6439ac92328627bfe">&#9670;&nbsp;</a></span>HandleWriteConfirmation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chip::Ble::BleLayer::HandleWriteConfirmation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>svcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>charId</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call when an outstanding GATT write request receives a positive receipt confirmation. </p>

</div>
</div>
<a id="ad0810c8abc53c2ecf383041ffc033786"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0810c8abc53c2ecf383041ffc033786">&#9670;&nbsp;</a></span>HandleWriteReceived()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool chip::Ble::BleLayer::HandleWriteReceived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>svcId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchip_1_1_ble_1_1_chip_ble_u_u_i_d.html">ChipBleUUID</a> *&#160;</td>
          <td class="paramname"><em>charId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchip_1_1_system_1_1_packet_buffer_handle.html">System::PacketBufferHandle</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>pBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call when a GATT write request is received. </p>

</div>
</div>
<a id="acc55855eca89d7be7a4ce14a7654c7c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc55855eca89d7be7a4ce14a7654c7c6">&#9670;&nbsp;</a></span>Init() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a> chip::Ble::BleLayer::Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchip_1_1_ble_1_1_ble_platform_delegate.html">BlePlatformDelegate</a> *&#160;</td>
          <td class="paramname"><em>platformDelegate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchip_1_1_ble_1_1_ble_application_delegate.html">BleApplicationDelegate</a> *&#160;</td>
          <td class="paramname"><em>appDelegate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchip_1_1_system_1_1_layer.html">chip::System::Layer</a> *&#160;</td>
          <td class="paramname"><em>systemLayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a70489993ebb946ebf4d4522a3dfd08d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70489993ebb946ebf4d4522a3dfd08d7">&#9670;&nbsp;</a></span>Init() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a> chip::Ble::BleLayer::Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchip_1_1_ble_1_1_ble_platform_delegate.html">BlePlatformDelegate</a> *&#160;</td>
          <td class="paramname"><em>platformDelegate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchip_1_1_ble_1_1_ble_connection_delegate.html">BleConnectionDelegate</a> *&#160;</td>
          <td class="paramname"><em>connDelegate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchip_1_1_ble_1_1_ble_application_delegate.html">BleApplicationDelegate</a> *&#160;</td>
          <td class="paramname"><em>appDelegate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchip_1_1_system_1_1_layer.html">chip::System::Layer</a> *&#160;</td>
          <td class="paramname"><em>systemLayer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a31723f1798b11ec962ad498c41cf4b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31723f1798b11ec962ad498c41cf4b68">&#9670;&nbsp;</a></span>NewBleConnectionByDiscriminator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a> chip::Ble::BleLayer::NewBleConnectionByDiscriminator </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>connDiscriminator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>appState</em> = <code><a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#a231299e413293aab78d01e3d600f93d1">nullptr</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchip_1_1_ble_1_1_ble_connection_delegate.html#ab6fdb641bcfcbbf32b49e7dc6a77e8ec">BleConnectionDelegate::OnConnectionCompleteFunct</a>&#160;</td>
          <td class="paramname"><em>onSucess</em> = <code>OnConnectionComplete</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchip_1_1_ble_1_1_ble_connection_delegate.html#ae7fb8ff79f982ad3221cb2629d93c0ae">BleConnectionDelegate::OnConnectionErrorFunct</a>&#160;</td>
          <td class="paramname"><em>onError</em> = <code>OnConnectionError</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4e9d09b2c8068f2e8e36ea4f8fc6cd04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e9d09b2c8068f2e8e36ea4f8fc6cd04">&#9670;&nbsp;</a></span>NewBleConnectionByObject()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a> chip::Ble::BleLayer::NewBleConnectionByObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a33ba84fdbbc00d22209fbeea36dd1a5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33ba84fdbbc00d22209fbeea36dd1a5b">&#9670;&nbsp;</a></span>NewBleEndPoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a> chip::Ble::BleLayer::NewBleEndPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a> **&#160;</td>
          <td class="paramname"><em>retEndPoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="telink_2_ble_platform_config_8h.html#a733cdf268d79c0e6edf76a3c2a809727">BLE_CONNECTION_OBJECT</a>&#160;</td>
          <td class="paramname"><em>connObj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacechip_1_1_ble.html#af939616df203558805d6aa06641290b7">BleRole</a>&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>autoClose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ada46f22b0d10b20fde367cdce163aae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada46f22b0d10b20fde367cdce163aae9">&#9670;&nbsp;</a></span>Shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_c_h_i_p_error_8h.html#a14096ae3b9aa35fdb19b9d949b212e0d">CHIP_ERROR</a> chip::Ble::BleLayer::Shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a id="addbebbb912665b78e089ca4c175489c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addbebbb912665b78e089ca4c175489c9">&#9670;&nbsp;</a></span>BLEEndPoint</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad631a55e9d141fe417793665cfa69cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad631a55e9d141fe417793665cfa69cf9">&#9670;&nbsp;</a></span>mAppState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* chip::Ble::BleLayer::mAppState = <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#a231299e413293aab78d01e3d600f93d1">nullptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7e86e34d71ae2798220c9081876c18a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e86e34d71ae2798220c9081876c18a8">&#9670;&nbsp;</a></span>mBleEndPoint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classchip_1_1_ble_1_1_b_l_e_end_point.html">BLEEndPoint</a>* chip::Ble::BleLayer::mBleEndPoint</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a50bfa92238cc6dc0578f109a55f78101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50bfa92238cc6dc0578f109a55f78101">&#9670;&nbsp;</a></span>mBleTransport</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classchip_1_1_ble_1_1_ble_layer_delegate.html">BleLayerDelegate</a>* chip::Ble::BleLayer::mBleTransport = <a class="el" href="_c_h_i_p_device_controller-_j_n_i_8cpp.html#a231299e413293aab78d01e3d600f93d1">nullptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adbf061f08434344e9667781576c35016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbf061f08434344e9667781576c35016">&#9670;&nbsp;</a></span>mState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum { ... }  chip::Ble::BleLayer::mState</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>[READ-ONLY] Current state </p>

</div>
</div>
<a id="ac0603dfed49c6233e4fc2763083a0154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0603dfed49c6233e4fc2763083a0154">&#9670;&nbsp;</a></span>OnChipBleConnectReceived</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html#a3f15f30d7c20af39930cbca07e47e74f">BleConnectionReceivedFunct</a> chip::Ble::BleLayer::OnChipBleConnectReceived</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>ble/<a class="el" href="_ble_layer_8h_source.html">BleLayer.h</a></li>
<li>ble/<a class="el" href="_ble_layer_8cpp.html">BleLayer.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacechip.html">chip</a></li><li class="navelem"><a class="el" href="namespacechip_1_1_ble.html">Ble</a></li><li class="navelem"><a class="el" href="classchip_1_1_ble_1_1_ble_layer.html">BleLayer</a></li>
    <li class="footer">Generated on Mon Nov 8 2021 18:38:17 for Connected Home over IP by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
